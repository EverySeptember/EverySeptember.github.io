---
title: 数据库-Elasticsearch-简介
date: 2021-6-28 15:51:55
tags: [数据库, Elasticsearch]
---

**本系列基于`7.12`版本官方文档整理**

# 基本概念

## 名词解释

### 文档（Document）

Elasticsearch是一个分布式的文档（Document）存储数据库。相比于传统数据的行存储，Elasticsearch直接存储序列化为JSON格式的复杂数据类型。

#### 字段（Filed）

每个文档（Document）都是字段的集合，也就是包含数据的键值对。

### 索引（Index）

索引（Index）可以被认为是一个优化的文档（Document）集合。默认情况下，Elasticsearch对每个字段的所有数据进行索引，每个索引字段都有一个专门的、优化的数据结构。

#### 倒置索引（Inverted index）

Elasticsearch使用一种叫做倒置索引的数据结构，支持非常快速的全文搜索。倒置索引列出了出现在所有文档中的每一个词，并标识出每个词出现的所有文档。

#### 无模式

当启用动态映射时，无模式能力允许不明确指定字段的情况下自动检测并添加新的字段到索引中。即自动推测字段类型并映射到合适的Elasticsearch索引类型。

### 集群（Cluster）、节点（Node）

Elasticsearch是一个分布式数据库，每单台的服务便是一个节点（Node），同一网络下的所有节点组成一个集群（Cluster）。

### 分片（Shard）

分片（Shard）是文档（Document）的实际载体，Elasticsearch索引实际上只是一个或多个物理分片的逻辑分组，每个分片实际上是一个独立的索引。

数据存储时，Elasticsearch将索引中的文档分布在多个分片上，并将这些分片分布在多个节点上。

#### 分片类型

共有两种分片类型：原始分片和复制分片。索引中的每个文档都属于一个主分片。复制分片是主分片的一个副本。复制提供了你的数据的冗余副本，以防止硬件故障，并增加了为搜索或检索文档等读取请求服务的能力。

索引中的主分片的数量在创建索引的时候是固定的，但是复制分片的数量可以在任何时候改变，而不会中断索引或查询操作。
